{% extends 'base.html' %}

{% block content %}
    <section id="grid-container">
        
        <article id="transaction-container">
            <h2>My Transactions</h2>

            <!-- <form action="">
                <label for="merchant-filter">Filter by merchant</label>
                <select name="merchant-filter" id="merchant-filter">
                    <option value=""></option>
                    {% for merchant in merchants %}
                        <option value="{{ merchant.id }}">{{ merchant.name }}</option>
                    {% endfor %}
                </select>
                <button type="submit">Filter</button>
            </form> -->

            <ul>
                {% for transaction in transactions_by_date %}
                <li class="transaction">
                    <p>{{ transaction.date }}</p>
                    <div class="merchant-amount">
                        <p class="merchant-name"><a href="/transactions/merchants{{ transaction.merchant.id }}">{{ transaction.merchant.name }}</a></p>
                        <div class="amount">
                            <p>{{ transaction.amount_formatted() }}</p>
                            <p>GBP</p>
                        </div>
                    </div>
                    <p><a href="/transactions/tags{{ transaction.tag.id }}">{{ transaction.tag.name }}</a></p>
                </li>
                {% endfor %}
            </ul>
        </article>
        
        <div id="total-container">
            <h2>Total</h2>
            <div class="total-amount">
                <p>{{ total }}</p>
                <p>GBP</p>
            </div>
        </div>
        <a href="/transactions/new" id="new-transaction">New Transaction</a>    
    </section>
    
    {% endblock %}